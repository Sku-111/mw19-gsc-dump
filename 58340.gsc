// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    level endon( "game_ended" );

    if ( getdvarint( "scr_br_zombie_encounters", 0 ) < 1 )
    {
        _id_146FD( "Zombie Spawning Disabled" );
        return;
    }

    scripts\mp\mp_agent::init_agent( "mp/iw8_default_agent_definition.csv" );
    scripts\engine\scriptable::_id_12F5B( "button", ::_id_146AE );
    initzombievariables();
    level.disable_oob_immunity_on_riders = 1;
    level.playerexitlaststand = ::_id_146F7;
    level.playerclearjailtimeouthud = ::_id_146BB;
    level._id_146B8 = getdvar( "scr_br_zombie_encounter_zone", "br_zombies_zone1" );
    level._id_146E9 = getdvarint( "scr_br_zombie_encounter_no_target_go_to_spawn", 1 );
    level._id_146CA = getdvarint( "scr_br_zombie_max_num_in_a_round", 40 );
    level._id_146AD = undefined;
    scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_14708();
    level.deployed = getdvarfloat( "scr_br_zombie_spawning_wait_time", 1.5 );
    level.deploy_subway_car_at_station = getdvarint( "scr_default_maxagents", 10 );
    _id_146FD( "Zombie Spawning Enabled for " + level._id_146B8 );

    while ( !scripts\mp\flags::playerzombiethermalcleanup( "prematch_done" ) )
        wait 1;

    scripts\mp\flags::gameflagwait( "prematch_done" );
}

initzombievariables()
{
    level._id_14687 = spawnstruct();
    level._id_14687._id_146DA = getdvarint( "scr_br_zombie_plunder_on_death_amount_base", 1 );
    level._id_14687._id_146DB = getdvarint( "scr_br_zombie_plunder_on_death_amount_emp", 2 );
    level._id_14687._id_146DC = getdvarint( "scr_br_zombie_plunder_on_death_amount_explosion", 2 );
    level._id_14687._id_146DD = getdvarint( "scr_br_zombie_plunder_on_death_amount_gas", 2 );
    level._id_14687._id_146DE = getdvarint( "scr_br_zombie_plunder_on_death_amount_weakpoint", 3 );
    level._id_14687._id_146D8 = getdvarint( "scr_br_zombie_plunder_multiplier", 50 );
    level._id_14687.onuseitem = getdvarfloat( "scr_br_zombie_explosion_damage", 35 );
    level._id_14687.onusethanksbc = getdvarfloat( "scr_br_zombie_explosion_damage_vehicle_percent", 0.95 );
    level._id_14687.mortar_cooldown = getdvarfloat( "scr_br_zombie_emp_radius", 275 );
    level._id_14687.packs = 1;
    level._id_14687._id_146B7 = getdvarint( "scr_br_zombie_enable_variable_speed", 1 );
    level._id_14687._id_146B6 = getdvarint( "scr_br_zombie_enable_variable_health", 1 );
    level._id_14687._id_146B5 = getdvarint( "scr_br_zombie_enable_variable_damage", 1 );
    level._id_14687._id_11A55 = getdvarint( "scr_br_zombie_ai_damage_low", 15 );
    level._id_14687._id_11BDC = getdvarint( "scr_br_zombie_ai_damage_mid", 20 );
    level._id_14687.spawn_entity_carriable = getdvarint( "scr_br_zombie_ai_damage_high", 35 );
    level._id_14687._id_146A5 = getdvarfloat( "scr_br_zombie_ammo_on_death_chance", 0.4 );
    level._id_14687._id_146A7 = getdvarfloat( "scr_br_zombie_armor_on_death_chance", 0.25 );
    level._id_14687._id_146A6 = getdvarint( "scr_br_zombie_ai_armor_drop_amount", 1 );
    level._id_14687.open_close_initial = getdvarfloat( "scr_br_zombie_ai_explosive_mod_damage_modifier", 5.0 );
    level._id_14687._id_146C7 = 0;
    level._id_146A0 = "gas_on_death";
    level._id_1469F = "explosion_on_death";
    level._id_1469E = "emp";
    level._id_146A2 = "weakpoint";
    level.zombie_type_ranger = "ranger";
    level._id_1469D = "base";
    level._effect["zmb_ai_crawling_out_of_ground"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_spawn_ground.vfx" );
    level._effect["zmb_ai_crawling_out_of_vent"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_spawn_vent.vfx" );
    level._effect["zmb_ai_base_death"] = loadfx( "vfx/iw8/weap/_impact/flesh/vfx_imp_flesh_fatal_med.vfx" );
    level._effect["zmb_ai_gas_death"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_gas_death.vfx" );
    level._effect["zmb_ai_explosion_death"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_explode_death.vfx" );
    level._effect["zmb_ai_emp_charge"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_emp_amb_pulse_chargeup.vfx" );
    level._effect["zmb_ai_emp_pulse"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_emp_amb_pulse.vfx" );
    level._effect["zmb_ai_emp_death"] = loadfx( "vfx/iw8_br/gameplay/zombie_ai/vfx_zai_emp_death.vfx" );
    level._effect["zmb_ai_weakpoint_death"] = loadfx( "vfx/iw8/weap/_impact/flesh/vfx_imp_flesh_fatal_med.vfx" );
    scripts\mp\utility\sound::besttime( "br_zmb_sfx" );
}

_id_146B0()
{
    var_0 = self;
    level endon( "game_ended" );
    var_0 endon( "death" );
    var_0 endon( "terminate_ai_threads" );
    var_0 hide();
    wait 0.2;
    var_0 show();
    wait 2;

    if ( getdvarint( "scr_br_zombie_encounters", 0 ) >= 1 && isdefined( level._id_14687 ) )
        var_0 thread scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146D4();
}

_id_146F7()
{
    return 0;
}

_id_146FE()
{
    return getdvarint( "scr_br_zombie_log", 0 ) > 0;
}

_id_146FA( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !scripts\engine\utility::string_starts_with( var_0, "actor_" ) )
        var_0 = "actor_" + var_0;

    if ( !isdefined( level.agent_definition[var_0] ) )
        return undefined;

    if ( !isdefined( var_3 ) || !isdefined( var_3.script_animation ) )
    {
        var_3 = spawnstruct();
        var_3.script_animation = "spawn_ground";
        var_3.targetname = "spawnStruct";
        var_3.origin = var_1;
    }

    if ( isdefined( var_3 ) && isdefined( var_3.targetname ) )
        _id_146FD( "Zombie will spawn At " + var_3.targetname );

    var_5 = scripts\mp\mp_agent::spawnnewagent( var_0, "team_two_hundred", var_1, var_2, undefined, var_3 );

    if ( isdefined( var_5 ) )
    {
        _id_146FD( "Spawned zombie : " + var_0 );
        var_5 thread _id_146B0();

        if ( isdefined( var_4 ) )
        {
            var_5._id_14704 = var_4;

            switch ( var_4 )
            {
                case "base":
                    var_5 setscriptablepartstate( "ai_glow", "base_loop" );
                    playsoundatpos( var_5.origin, "zmb_spawn_type_default" );
                    break;
                case "ranger":
                case "gas_on_death":
                    var_5 setscriptablepartstate( "ai_glow", "gas_loop" );
                    playsoundatpos( var_5.origin, "zmb_spawn_type_gas" );
                    break;
                case "explosion_on_death":
                    var_5 setscriptablepartstate( "ai_glow", "exp_loop" );
                    playsoundatpos( var_5.origin, "zmb_spawn_type_exp" );
                    break;
                case "emp":
                    var_5 setscriptablepartstate( "ai_glow", "emp_loop" );
                    playsoundatpos( var_5.origin, "zmb_spawn_type_emp" );
                    break;
                case "weakpoint":
                    var_5 setscriptablepartstate( "ai_glow", "weak_loop" );
                    var_5 thread carriablemagicgrenades( "c_t9_zmb_ndu_zombie_honorguard_helmet_barbed", "j_helmet" );
                    playsoundatpos( var_5.origin, "zmb_spawn_type_armor" );
                    break;
                default:
                    var_5 setscriptablepartstate( "ai_glow", "base_loop" );
                    break;
            }
        }

        if ( !isdefined( var_3._id_146EA ) )
            var_3._id_146EA = getclosestpointonnavmesh( var_3.origin );

        switch ( var_3.script_animation )
        {
            case "spawn_ground":
                if ( isdefined( level._effect["zmb_ai_crawling_out_of_ground"] ) )
                    playfx( scripts\engine\utility::getfx( "zmb_ai_crawling_out_of_ground" ), var_5.origin );

                break;
            case "spawn_wall_low":
                if ( isdefined( level._effect["zmb_ai_crawling_out_of_vent"] ) )
                    playfx( level._effect["zmb_ai_crawling_out_of_vent"], var_5.origin );

                break;
            default:
                if ( isdefined( level._effect["zmb_ai_crawling_out_of_ground"] ) )
                    playfx( scripts\engine\utility::getfx( "zmb_ai_crawling_out_of_ground" ), var_5.origin );

                break;
        }
    }
    else
        _id_146FD( "Spawn Failed " + var_0 );

    return var_5;
}

carriablemagicgrenades( var_0, var_1, var_2 )
{
    level endon( "zai_round_over" );
    level endon( "game_ended" );
    self endon( "terminate_ai_threads" );

    if ( !istrue( var_2 ) )
        wait 0.25;

    self attach( var_0, var_1 );
    self.hashelmet = 1;
    self.attached_helmet = spawnstruct();
    self.attached_helmet.model = var_0;
    self.attached_helmet.tag = var_1;
}

detachhelmetfromzombie( var_0, var_1 )
{
    self detach( self.attached_helmet.model, self.attached_helmet.tag );
    self.hashelmet = 0;
    self.attached_helmet = undefined;
}

_id_1470E( var_0 )
{
    return !accesscard::_id_13303( var_0, 1 );
}

_id_146A4( var_0 )
{
    level endon( "game_ended" );
    var_1 = _id_14711( getentarray( var_0.target, "targetname" ) );

    for (;;)
    {
        level._id_146D7 = 0;

        foreach ( var_3 in level.players )
            var_3.trial_targs = 0;

        foreach ( var_6 in var_1 )
        {
            var_6.isactive = 0;
            var_6._id_1252F = 0;
        }

        var_8 = [];

        foreach ( var_3 in level.players )
        {
            if ( _id_1470E( var_3 ) )
                var_8[var_8.size] = var_3;
        }

        foreach ( var_6 in var_1 )
        {
            foreach ( var_3 in var_8 )
            {
                if ( var_3 istouching( var_6 ) )
                {
                    if ( !istrue( var_3.trial_targs ) )
                    {
                        var_3.trial_targs = 1;
                        level._id_146D7 = level._id_146D7 + 1;
                    }

                    var_6.isactive = 1;
                    var_6._id_1252F = var_6._id_1252F + 1;
                }
            }
        }

        level._id_146A3 = [];

        foreach ( var_6 in var_1 )
        {
            if ( var_6.isactive )
            {
                level._id_146A3[level._id_146A3.size] = var_6;

                foreach ( var_17 in level.vehicle.instances )
                {
                    foreach ( var_19 in var_17 )
                    {
                        if ( var_19 istouching( var_6 ) )
                            var_19 thread _id_14701();
                    }
                }

                foreach ( var_23 in level.mines )
                {
                    if ( isdefined( var_23 ) && isdefined( var_23.equipmentref ) && var_23.equipmentref == "equip_tac_cover" )
                    {
                        if ( var_23 istouching( var_6 ) )
                            var_23 thread _id_14701();
                    }
                }
            }
        }

        foreach ( var_3 in level.players )
        {

        }

        var_28 = _id_14710();
        wait( var_28 );
    }
}

_id_14701()
{
    var_0 = createnavobstaclebyent( self, "team_two_hundred" );
    wait( _id_14710() - 0.05 );

    if ( isdefined( var_0 ) )
        destroynavobstacle( var_0 );
}

_id_14710()
{
    return getdvarfloat( "scr_br_zombie_volume_wait_time", 1.0 );
}

_id_146AC()
{
    level endon( "game_ended" );
    level endon( "zai_round_over" );

    for (;;)
    {
        if ( level._id_146AD vehicle_collision_init() )
        {
            thread scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146EE();
            return;
        }

        wait 1;
    }
}

_id_14711( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        var_2._id_14723 = [];

        if ( !isdefined( var_2.script_linkname ) )
            continue;

        if ( !isdefined( var_2.script_linkto ) )
            continue;

        var_3 = var_2 scripts\engine\utility::get_linked_ents();

        if ( var_3.size > 0 )
        {
            foreach ( var_5 in var_3 )
                var_2._id_14723[var_2._id_14723.size] = var_5;
        }
    }

    return var_0;
}

_id_146FF( var_0 )
{
    level endon( "game_ended" );
    level endon( "zai_round_over" );
    var_1 = getdvarint( "scr_br_zombie_respawn_time", 5 );
    _id_146FD( "Zombie Spawning Zone '" + var_0.target + "', Goal of " + level.deploy_subway_cars_on_track + " active" );
    level._id_146EF = [];
    level._id_146AD = var_0;
    level._id_146D7 = 0;
    level._id_146A3 = [];
    var_2 = getentarray( var_0.target, "targetname" );

    if ( var_2.size == 0 )
    {
        _id_146FD( "Zombie Spawning Zone '" + var_0.target + "' has no volumes" );
        return;
    }

    if ( isdefined( level.teamnamelist ) && !scripts\engine\utility::array_contains( level.teamnamelist, "team_two_hundred" ) )
        level.teamnamelist = scripts\engine\utility::array_add( level.teamnamelist, "team_two_hundred" );

    level thread _id_146A4( var_0 );
    level thread _id_146AC();
    level thread scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146BA();
    _id_14707();
    var_3 = scripts\mp\utility\player::getplayersinradius( var_0.origin, 6000 );

    foreach ( var_5 in var_3 )
        var_5.unsetbettermissionrewards = 1;

    if ( level._id_14687.packs == 1 )
    {
        foreach ( var_5 in var_3 )
            var_5 scripts\mp\hud_message::showsplash( "br_zai_begin" );
    }
    else if ( level._id_14687.packs == 2 )
    {
        foreach ( var_5 in var_3 )
            var_5 scripts\mp\hud_message::showsplash( "br_zai_begin_multiple" );
    }

    level thread scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_12666( var_0.origin );

    for (;;)
    {
        if ( level._id_146D7 > 0 )
        {
            var_11 = [];

            foreach ( var_13 in level._id_146EF )
            {
                if ( isalive( var_13 ) )
                {
                    var_11[var_11.size] = var_13;
                    continue;
                }

                if ( isdefined( var_13 ) )
                    var_13 notify( "terminate_ai_threads" );
            }

            level._id_146EF = var_11;

            if ( get_checking_area_alias() )
            {
                var_15 = [];
                var_16 = getdvarint( "scr_br_zombie_force_ground", 0 );
                var_17 = getdvarint( "scr_br_zombie_force_vent", 0 );
                var_18 = [];

                foreach ( var_20 in level._id_146A3 )
                {
                    var_18[var_18.size] = var_20;
                    var_18 = scripts\engine\utility::array_combine( var_18, var_20._id_14723 );
                }

                var_18 = scripts\engine\utility::array_remove_duplicates( var_18 );

                foreach ( var_20 in var_18 )
                {
                    var_23 = scripts\engine\utility::getstructarray( var_20.target, "targetname" );

                    foreach ( var_25 in var_23 )
                    {
                        if ( !istrue( var_25.disabled ) )
                        {
                            if ( var_16 )
                            {
                                if ( isdefined( var_25.script_animation ) && var_25.script_animation == "spawn_ground" )
                                    var_15[var_15.size] = var_25;

                                continue;
                            }

                            if ( var_17 )
                            {
                                if ( isdefined( var_25.script_animation ) && var_25.script_animation == "spawn_wall_low" )
                                    var_15[var_15.size] = var_25;

                                continue;
                            }

                            var_15[var_15.size] = var_25;
                        }
                    }
                }

                var_15 = scripts\engine\utility::array_randomize( var_15 );

                for ( var_28 = 0; var_28 < var_15.size && get_checking_area_alias(); var_28++ )
                {
                    var_25 = var_15[var_28];
                    var_29 = level._id_14709[level._id_146F0];
                    var_13 = _id_146FA( "enemy_lw_base_zombie", var_25.origin, var_25.angles, var_25, var_29 );

                    if ( !isdefined( var_13 ) )
                        break;

                    level._id_146EF[level._id_146EF.size] = var_13;

                    if ( var_29 == level._id_146A0 )
                        level.deploy_suicide_truck_in_lumber_yard--;
                    else if ( var_29 == level._id_1469F )
                        level.deploy_suicide_truck_in_farm--;
                    else if ( var_29 == level._id_1469E )
                    {
                        level.deploy_suicide_truck_in_blockade--;
                        var_13 thread scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146B3();
                    }
                    else if ( var_29 == level._id_146A2 )
                        level.deployable_cover_cancel--;
                    else if ( var_29 == level._id_1469D )
                        level.deploy_subway_cars_on_track--;

                    var_13 scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146F5( var_29 );
                    var_13 scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146F3( var_29 );
                    var_13 scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_146F4( var_29 );
                    level._id_146F0++;
                    wait( level.deployed );
                }
            }
        }

        wait( var_1 );
    }
}

_id_14707()
{
    level._id_14709 = [];
    level._id_14687.packs = 1;
    var_0 = [];
    var_1 = 0;
    var_2 = 0;

    if ( level._id_14687._id_145A8 > 0 )
    {
        switch ( level._id_14687._id_145A8 )
        {
            case 2:
                if ( level.deploy_suicide_truck_in_lumber_yard < 0 )
                    level.deploy_suicide_truck_in_lumber_yard = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.05 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 3 );
                break;
            case 3:
                if ( level.deploy_suicide_truck_in_farm < 0 )
                    level.deploy_suicide_truck_in_farm = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.1 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 3 );
                break;
            case 4:
                if ( level.deploy_suicide_truck_in_blockade < 0 )
                    level.deploy_suicide_truck_in_blockade = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.1 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 5 );
                break;
            case 5:
                if ( level.deploy_suicide_truck_in_lumber_yard < 0 )
                    level.deploy_suicide_truck_in_lumber_yard = 6;

                if ( level.deploy_suicide_truck_in_farm < 0 )
                    level.deploy_suicide_truck_in_farm = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.2 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 5 );
                break;
            case 6:
                if ( level.deploy_suicide_truck_in_lumber_yard < 0 )
                    level.deploy_suicide_truck_in_lumber_yard = 6;

                if ( level.deploy_suicide_truck_in_blockade < 0 )
                    level.deploy_suicide_truck_in_blockade = 6;

                var_0 = [ level._id_146A2 ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.2 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 5 );
                break;
            case 7:
                if ( level.deploy_suicide_truck_in_lumber_yard < 0 )
                    level.deploy_suicide_truck_in_lumber_yard = 6;

                if ( level.deployable_cover_cancel < 0 )
                    level.deployable_cover_cancel = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E, level._id_146A2, level._id_1469D ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.3 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 5 );
                break;
            case 8:
                if ( level.deploy_suicide_truck_in_farm < 0 )
                    level.deploy_suicide_truck_in_farm = 6;

                if ( level.deployable_cover_cancel < 0 )
                    level.deployable_cover_cancel = 6;

                var_0 = [ level._id_146A0, level._id_1469F, level._id_1469E, level._id_146A2, level._id_1469D ];
                var_1 = getdvarfloat( "scr_br_zombie_ai_extra_zombie_spawn_chance", 0.3 );
                var_2 = getdvarint( "scr_br_zombie_ai_extra_zombie_spawn_quantity", 5 );
                break;
            default:
                break;
        }

        if ( var_0.size > 0 )
        {
            if ( randomfloat( 1.0 ) < var_1 )
            {
                level._id_14687.packs = 2;
                var_3 = randomint( var_0.size );

                for ( var_4 = 0; var_4 < var_2; var_4++ )
                    level._id_14709[level._id_14709.size] = var_0[var_3];
            }
        }
    }

    for ( var_4 = 0; var_4 < level.deploy_suicide_truck_in_lumber_yard; var_4++ )
        level._id_14709[level._id_14709.size] = level._id_146A0;

    for ( var_4 = 0; var_4 < level.deploy_suicide_truck_in_farm; var_4++ )
        level._id_14709[level._id_14709.size] = level._id_1469F;

    for ( var_4 = 0; var_4 < level.deploy_suicide_truck_in_blockade; var_4++ )
        level._id_14709[level._id_14709.size] = level._id_1469E;

    for ( var_4 = 0; var_4 < level.deployable_cover_cancel; var_4++ )
        level._id_14709[level._id_14709.size] = level._id_146A2;

    if ( level.deploy_subway_cars_on_track < 0 )
        level.deploy_subway_cars_on_track = level._id_146CA - level._id_14709.size;

    for ( var_4 = 0; var_4 < level.deploy_subway_cars_on_track; var_4++ )
        level._id_14709[level._id_14709.size] = level._id_1469D;

    level._id_14709 = scripts\engine\utility::array_randomize( level._id_14709 );
}

_id_146AE( var_0, var_1, var_2, var_3, var_4 )
{
    level notify( "zai_computer_used" );

    if ( !getdvarint( "scr_br_enable_zai_button_in_prematch", 0 ) && !isdefined( level.prematchstarted ) )
        return;

    if ( !issubstr( var_0.targetname, "zombie" ) )
        return;

    if ( var_0 vehicle_collision_init() )
        return;

    if ( isdefined( level._id_146AD ) )
    {
        var_3 scripts\mp\hud_message::showerrormessage( "MP_BR_INGAME/ZOMBIE_EVENT_IS_ALREADY_ACTIVE" );
        var_3 playlocalsound( "br_pickup_deny" );
        return 0;
    }

    if ( !isdefined( var_0.targetname ) || !isdefined( level._id_146B8 ) || var_0.targetname != level._id_146B8 )
        return;

    level._id_146AD = var_0.targetname;
    level._id_146F0 = 0;
    level.create_ai_type_override = var_0.origin;
    var_0 scripts\mp\gametypes\br_alt_mode_zai.gsc::_id_13D96();
    level thread _id_146FF( var_0 );
}

_id_146BB()
{
    if ( level._id_146E9 )
        return self.spawner._id_146EA;
    else
        return undefined;
}

get_checking_area_alias()
{
    if ( level._id_146F0 < level._id_14709.size && level._id_146EF.size < level.deploy_subway_car_at_station )
        return 1;

    return 0;
}

vehicle_collision_init()
{
    var_0 = self;

    if ( !isdefined( level.br_circle ) || !isdefined( level.br_circle.dangercircleent ) )
        return 0;

    var_1 = scripts\mp\gametypes\br_circle.gsc::getdangercircleorigin();
    var_2 = scripts\mp\gametypes\br_circle.gsc::getdangercircleradius();
    var_3 = var_2 * var_2;

    if ( distance2dsquared( var_0.origin, var_1 ) > var_3 )
        return 1;
    else
        return 0;
}

_id_146FD( var_0 )
{

}
